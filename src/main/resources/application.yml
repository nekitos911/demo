spring:
  kafka:
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
    consumer:
      group-id: ${spring.application.name}
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: "*"
    bootstrap-servers: localhost:19092
  application:
    name: demo-app
  cloud:
    stream:
      default:
        consumer:
          maxAttempts: 1
        contentType: application/json
        group: ${spring.application.name}
      bindings:
        produceMessageTopic4Dlq-out-0:
          destination: demo-topic4
        consumeMessageTopic4Dlq-in-0:
          destination: demo-topic4
        consumeMessageTopic1-in-0:
          destination: demo-topic1
        consumeMultiplyTopicsAndProduceMessageTopic2-in-0:
          destination: demo-topic2,demo-topic3
        consumeAndProduceMessageTopic2-out-0:
          destination: demo-topic1
        produceMessageTopic23-out-0:
          destination: demo-topic2
        produceMessageTopic23-out-1:
          destination: demo-topic3
        consumeMultiplyTopicsWithDifferentData-in-0:
          destination: demo-topic4,demo-topic5
        produceMessageTopic4-out-0:
          destination: demo-topic4
        produceMessageTopic5-out-0:
          destination: demo-topic5
        produceMessageTopic6Native-out-0:
          destination: demo-topic6
          producer:
            use-native-encoding: true
        consumeMessageTopic6Native-in-0:
          destination: demo-topic6
          consumer:
            use-native-decoding: true
        produceMessageTopic7Native-out-0:
          destination: demo-topic7
          producer:
            use-native-encoding: true
        consumeMessageTopic7-in-0:
          destination: demo-topic7
      kafka:
        bindings:
          consumeMessageTopic4Dlq-in-0:
            consumer:
              enable-dlq: true
        binder:
          enable-observation: true
          autoCreateTopics: true
          brokers: ${spring.kafka.bootstrap-servers}
          configuration:
            acks: all
            enable.auto.commit: false
            auto.offset.reset: latest
            max.poll.interval.ms: 300000
            max.poll.records: 500
            fetch.min.bytes: 1
            fetch.max.wait.ms: 500
            heartbeat.interval.ms: 3000
            session.timeout.ms: 10000
            request.timeout.ms: 30000
server:
  port: 8090

management:
  endpoints:
    web:
      exposure:
        include: '*'
  tracing:
    enabled: true
    sampling:
      probability: 0.1
    propagation:
      type: b3,b3_multi,w3c

